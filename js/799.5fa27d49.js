"use strict";(globalThis["webpackChunkwinner_picker"]=globalThis["webpackChunkwinner_picker"]||[]).push([[799],{2799:(e,n,a)=>{a.r(n),a.d(n,{default:()=>_});var s=a(9835),t=a(6970);const r=(0,s._)("div",{class:"stage fullscreen"},null,-1),i=(0,s._)("h2",{class:"text-center q-mt-none q-mb-md text-white text-bold deep-shadow"},"WINNER PICKER",-1),l={class:"row justify-center q-mt-md"},o={key:1,class:"winner-screen"},c={key:0,class:"text-white absolute-top text-center text-bold deep-shadow"},m={class:"text-h6"},d={key:2,src:"assets/drumroll.mp3",autoplay:""};function u(e,n,a,u,h,p){const w=(0,s.up)("q-input"),g=(0,s.up)("q-btn"),k=(0,s.up)("q-card-section"),y=(0,s.up)("q-card"),N=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(N,{class:"flex flex-center bg-black"},{default:(0,s.w5)((()=>[r,(0,s._)("div",{class:(0,t.C_)([{show:!h.showWinnerScreen},"curtain fullscreen"])},null,2),h.showWinnerScreen?((0,s.wg)(),(0,s.iD)("div",o,[h.pickedWinner?((0,s.wg)(),(0,s.iD)("h1",c," WINNER!! ")):(0,s.kq)("",!0),(0,s._)("div",{class:(0,t.C_)([{zoom:h.zoomingNames},"name-card"])},[h.currentName?((0,s.wg)(),(0,s.j4)(y,{key:0,dark:"",class:(0,t.C_)(h.pickedWinner?"bg-green-7":" bg-primary"),bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s._)("div",m,(0,t.zw)(h.currentName),1)])),_:1})])),_:1},8,["class"])):(0,s.kq)("",!0)],2),h.pickedWinner?((0,s.wg)(),(0,s.j4)(g,{key:1,onClick:p.startAgain,color:"primary",class:"start-again absolute",label:"Start-again"},null,8,["onClick"])):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.j4)(y,{key:0,class:"add-names column bg-red"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[i,(0,s.Wm)(w,{modelValue:h.namesText,"onUpdate:modelValue":n[0]||(n[0]=e=>h.namesText=e),filled:"",type:"textarea","bg-color":"white",placeholder:"Escreva os nomes em linhas separadas",nows:"10",cols:"40"},null,8,["modelValue"]),(0,s._)("div",l,[(0,s.Wm)(g,{onClick:p.pickWinner,disabled:!h.namesText,label:"Pick a Winner!",color:"primary",size:"xl"},null,8,["onClick","disabled"])])])),_:1})])),_:1})),h.showWinnerScreen?((0,s.wg)(),(0,s.iD)("audio",d)):(0,s.kq)("",!0)])),_:1})}let h;const p={data(){return{showWinnerScreen:!1,namesText:"",namesArray:[],currentName:"",pickedWinner:!1,zoomingNames:!1}},methods:{pickWinner(){this.showWinnerScreen=!0,this.initNamesArray(),this.animateNames(),this.stopAnimatingNames(),this.zoomNames()},initNamesArray(){this.namesArray=this.namesText.split("\n"),this.namesArray=this.shuffle(this.namesArray),console.log("this.namesArray: ",this.namesArray)},animateNames(){let e=0;setTimeout((()=>{h=setInterval((()=>{this.currentName="",e==this.namesArray.length-1?e=0:e++,setTimeout((()=>{this.currentName=this.namesArray[e]}),100)}),200)}),700)},stopAnimatingNames(){setTimeout((()=>{clearInterval(h),this.pickedWinner=!0}),8400)},zoomNames(){setTimeout((()=>{this.zoomingNames=!0}),1e3)},startAgain(){this.showWinnerScreen=!1,this.pickedWinner=!1,this.currentName="",this.zoomingNames=!1},shuffle(e){var n,a,s;for(s=e.length-1;s>0;s--)n=Math.floor(Math.random()*(s+1)),a=e[s],e[s]=e[n],e[n]=a;return e}}};var w=a(1639),g=a(9885),k=a(4458),y=a(3190),N=a(6867),b=a(7065),W=a(9984),f=a.n(W);const x=(0,w.Z)(p,[["render",u]]),_=x;f()(p,"components",{QPage:g.Z,QCard:k.Z,QCardSection:y.Z,QInput:N.Z,QBtn:b.Z})}}]);